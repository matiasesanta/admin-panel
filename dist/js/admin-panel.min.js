/*! admin-panel 2017-10-17 */

function navigationController(e,n,t){e.items=t.navigationItems,e.elem=$("navigation"),this.$onInit=function(){n(function(){e.elem=$("navigation"),e.accordion=new Foundation.AccordionMenu(e.elem),e.elem.find("> .menu").addClass("visible")})},this.$onDestroy=function(){e.accordion&&e.accordion.$element.foundation("_destroy")}}function topBarController(e,n,t){e.clickBtn=function(){n.logout(),t.path("/login")},this.$postLink=function(){$("top-bar").foundation()}}angular.module("adminPanel",["ngAnimate","adminPanel.authentication","adminPanel.crud","adminPanel.topBar","adminPanel.navigation"]).directive("adminPanel",[function(){return{restrict:"E",templateUrl:"admin-panel.template.html"}}]),angular.module("adminPanel.crud",["adminPanel","ngResource"]),angular.module("adminPanel.crud").factory("CrudResource",["CrudConfig","$http","$resource","NormalizeService",function(e,n,t,a){return function(i,o,r,s,l){var u=null,c=null;if("string"==typeof i)u=i;else{if("object"!=typeof i)throw console.error("CrudResourceFactory: el parametro name debe ser string o object"),"CrudResourceFactory: el parametro name debe ser string o object";if(angular.isUndefined(i.name)||angular.isUndefined(i.property))throw console.error("CrudResourceFactory: si el parametro name es un objeto, name y property deben establecerse como propiedades"),"CrudResourceFactory: si el parametro name es un objeto, name y property deben establecerse como propiedades";u=i.name,c=i.property}if("string"!=typeof i)throw console.error("CrudResourceFactory: el parametro url debe ser string"),"CrudResourceFactory: el parametro url debe ser string";if(!angular.isUndefined(r)&&null!==r&&"object"!=typeof r)throw console.error("CrudResourceFactory: el parametro transform debe ser object"),"CrudResourceFactory: el parametro transform debe ser object";var d={};d.query=r&&r.query?function(e){return{data:r.query(e.data)}}:function(e){return e},d.request=r&&r.request?r.request:function(e){return e},d.response=r&&r.response?function(e){return{data:r.response(e.data)}}:function(e){return e};var g={};g[u]="@id";var p={cancellable:!0},m=null;if(!angular.isUndefined(s)&&null!==s&&!1!==s)if(!0===s)m={url:"/files",prop:"file"};else if("string"==typeof s)m={url:"/"+s+"s",prop:s};else if("object"==typeof s){if(angular.isUndefined(s.url)||angular.isUndefined(s.prop))throw console.error("CrudResourceFactory: si el parametro file es un objeto, url y prop deben establecerse como propiedades"),"CrudResourceFactory: si el parametro file es un objeto, url y prop deben establecerse como propiedades";m=s}var f={};for(var h in l){var v=l[h];v.url&&(v.url=e.basePath+v.url),v.cancellable=!0,v.transformResponse&&v.transformResponse.unshift(n.defaults.transformResponse[0]),f[h]=v}return null!==m&&(f[m.prop]={method:"POST",url:e.basePath+o+m.url,transformRequest:[function(e){var n={};return n[s.prop]=e[s.prop],n},n.defaults.transformRequest[0]],cancellable:!0}),f.query={method:"GET",transformResponse:[n.defaults.transformResponse[0],function(e){for(var n=[],t=0;t<e.length;t++)n.push(d.response(e[t]));return n}],isArray:!1,cancellable:!0},f.get={method:"GET",transformResponse:[n.defaults.transformResponse[0],d.response],cancellable:!0},f.save={method:"POST",transformRequest:[function(e){var n={};return n.id=e.id,c?(n[c]=a.normalize(d.request(e[c])),delete n[c].id):(n[u]=a.normalize(d.request(e)),delete n[u].id),null!==m&&delete n[m.prop],n},n.defaults.transformRequest[0]],cancellable:!0},console.log("actions",f),{name:u,property:c,file:m,$resource:t(e.basePath+o,g,f,p)}}}]),angular.module("adminPanel.crud").provider("CrudConfig",function(){var e="",n={saveError:"Hubo un error al guardar los datos en el servidor. Recarga la página e inténtalo de nuevo",saveSusccess:"Datos guardados exitosamente",loadError:"Hubo un error al obtener los datos del servidor. Pruebe con recargar la página"};this.setBasePath=function(n){return e=n,this},this.setMessages=function(e){return n.saveError=e.saveError?e.saveError:n.saveError,n.saveSusccess=e.saveSusccess?e.saveSusccess:n.saveSusccess,n.loadError=e.loadError?e.loadError:n.loadError,this},this.$get=function(){return{basePath:e,messages:n}}}),angular.module("adminPanel.crud").service("CrudService",["$timeout","CrudConfig",function(e,n){var t=function(e,t,a,i){var o=this;o.init=function(i,r,s){e.$emit("apLoad:start",a);var l=t.get(i);l.$promise.then(function(n){e.$emit("apLoad:finish",a),r&&r(n)},function(t){console.log("responseError",t),e.$emit("apLoad:finish",a,{message:n.messages.loadError,type:"error"}),s&&s(t)}),o.initRequest=l},o.submit=function(r,s,l){e.$emit("apLoad:start",a);var u=t.save(r);u.$promise.then(function(o){null===i?(e.$emit("apLoad:finish",a,{message:n.messages.saveSusccess,type:"success"}),s&&s(o)):(console.log("file",i),console.log("prop",t[i.prop]),t[i.prop](r).$promise.then(function(t){e.$emit("apLoad:finish",a,{message:n.messages.saveSusccess,type:"success"}),s&&s(t)},function(t){throw e.$emit("apLoad:finish",a,{message:n.messages.saveError,type:"error"}),l&&l(t),"Form File Error: "+t}))},function(t){throw e.$emit("apLoad:finish",a,{message:n.messages.saveError,type:"error"}),l&&l(t),"Form Error: "+t}),o.submitRequest=u},o.destroy=function(){o.initRequest&&o.initRequest.$cancelRequest(),o.submitRequest&&o.submitRequest.$cancelRequest()}},a=function(t,a,i){var o=null;this.get=function(r,s,l,u){e(function(){t.$broadcast("apLoad:start",i);var e=u||"get";o&&!o.$promise.$resolved&&o.$cancelRequest(),(o=a[e](r)).$promise.then(function(e){t.$broadcast("apLoad:finish",i),s&&s(e)},function(e){-1!==e.status&&(t.$broadcast("apLoad:finish",i,{message:n.messages.loadError,type:"error"}),l&&l(e))}),t.request=o})}};return{form:t,list:a,basicFormController:function(e,n,a,i,o,r){var s=n.name,l=new t(a,n.$resource,r,n.file);a[s]={},a.submit=function(){a.form?a.form.$valid&&l.submit(a[s],function(e){e.data&&(a[s]=e.data),o&&o()}):l.submit(a[s],function(e){e.data&&(a[s]=e.data),o&&o()})},e.$onInit=function(){var e=n.property;if(e&&!angular.isUndefined(this[s][e])&&null!==this[s][e])return a[s]=this[s],a[s][e]?a[e]=a[s][e]:a[s][e]=a[e],void(i&&i());if(this[s]&&"nuevo"!==this[s]){var t={};t[s]=this[s],l.init(t,function(n){a[s]=n.data,e&&(a[s][e]?a[e]=a[s][e]:a[s][e]=n.data[e]),i&&i()})}},e.$onDestroy=function(){l.destroy()}},basicListController:function(e,n,t,i){t.list=[];var o=new a(t,n.$resource,i);e.$onInit=function(){e.list()},e.list=function(e,n,a){var i=e||{};o.get(i,function(e){t.list=e.data,t.$broadcast("pagination:paginate",{totalPageCount:e.totalPageCount,currentPageNumber:e.currentPageNumber}),a&&a()},function(){},n)},e.$onDestroy=function(){t.request&&t.request.$cancelRequest()},t.$on("pagination:changepage",function(n,t){n.stopPropagation(),e.list({page:t})})}}}]),angular.module("adminPanel.crud").service("NormalizeService",[function(){this.normalize=function(e){var n=angular.copy(e);for(var t in n)if("$"!==t.charAt(0)){var a=t;"object"==typeof n[t]&&null!==n[t]?void 0!==n[t].id?n[a]=n[t].id:n[a]=this.normalize(n[t]):n[a]=n[t],t!=a&&delete n[t]}else delete n[t];return n}}]),angular.module("adminPanel.navigation",["adminPanel"]).component("navigation",{templateUrl:"components/navigation/navigation.template.html",controller:["$scope","$timeout","AdminPanelConfig",navigationController]}),angular.module("adminPanel.topBar",["adminPanel.authentication"]).component("topBar",{templateUrl:"components/top-bar/top-bar.template.html",controller:["$scope","AuthenticationService","$location",topBarController]}),angular.module("adminPanel").directive("apAccordion",["$timeout",function(e){return{require:"ngModel",restrict:"AE",transclude:!0,scope:{allowAllClosed:"=",multiExpand:"=",addButtonText:"@?",name:"@?"},link:function(n,t,a,i){t.addClass("ap-accordion"),n.accordion=new Foundation.Accordion(t.find(".accordion"),{"data-multi-expand":n.multiExpand,"data-allow-all-closed":n.allowAllClosed}),n.addElement=function(){var e={},t=n.name?n.name:"default";n.$emit("ap.accordion.add",e,t),angular.isUndefined(i.$modelValue)||i.$modelValue.push(e)},n.removeElement=function(e){n.$emit("ap.accordion.remove",e);var t=i.$modelValue,a=t.indexOf(e);a>-1&&t.splice(a,1)},e(function(){angular.isUndefined(i.$modelValue)&&n.$apply(function(){i.$setViewValue([])})})},controller:["$scope",function(e){this.toggleTab=function(n){e.accordion.$element.foundation("toggle",n)},this.removeElement=function(n){e.removeElement(n)},this.reInitComponent=function(){e.accordion.$element.foundation("up",e.accordion.$tabs.find(".accordion-content")),Foundation.reInit(e.accordion.$element)}}],templateUrl:"directives/accordion/accordion.template.html"}}]),angular.module("adminPanel").directive("apAccordionItem",function(){return{require:["^^apAccordion","ngModel"],restrict:"AE",transclude:!0,scope:{itemDefaultTitle:"@?",deleteButton:"=?"},link:function(e,n,t,a){e.title="",t.$set("dataAccordionItem",""),n.addClass("accordion-item is-active"),a[0].reInitComponent(),e.deleteElement=function(){a[0].removeElement(a[1].$modelValue)},e.toggleTab=function(){a[0].toggleTab(n.find(".accordion-content"))},void 0!==e.itemDefaultTitle&&(e.title=e.itemDefaultTitle)},controller:["$scope",function(e){this.changeTitleName=function(n){e.title=n}}],templateUrl:"directives/accordion/accordionItem.template.html"}}),angular.module("adminPanel").directive("apAccordionItemTitle",["$parse",function(e){return{require:["^^apAccordionItem","ngModel"],restrict:"A",link:function(n,t,a,i){n.objectValues=e(a.apAccordionItemTitle)(n),n.$watch(function(){return i[1].$modelValue},function(e){if(e){var t="";if(e instanceof Date)t=e.toLocaleString();else if(n.objectValues instanceof Array){t="";for(var a=0;a<n.objectValues.length;a++)t+=e[n.objectValues[a]]+", ";t=t.replace(/,\s*$/,"")}else t=e;i[0].changeTitleName(t)}})}}}]),angular.module("adminPanel").directive("apBox",["$rootScope",function(e){return{restrict:"AE",priority:100,transclude:!0,scope:{title:"@",init:"&?"},compile:function(n,t){if(n.addClass("ap-box"),void 0!==t.paginate){var a=angular.element("<ap-pagination>");n.find(".pager").append(a)}return function(n,t,a){function i(){n.elem.removeClass("no-visible"),e.$broadcast("box.directive.mouseenter",n.elem)}n.closeButton=void 0!==a.name,n.message=null,n.loads={},n.elem=t,n.isHide=n.closeButton;for(var o=t.find("[ap-load]"),r=0;r<o.length;r++){var s=angular.element(o[r]).controller("apLoad"),l=s.getName();l&&(n.loads[l]=s)}n.close=function(){n.isHide=!0},n.$watch("isHide",function(e){e?t.hide():t.show()}),t.on("mouseenter",i);var u=n.$on("box.directive.mouseenter",function(e,t){n.elem!==t&&n.elem.addClass("no-visible")}),c=n.$on("apBox:show",function(e,t){a.name===t&&(n.isHide=!1)}),d=n.$on("apLoad:start",function(e,t){n.message=null;var a=t||"default";if(!n.loads[a])throw"apLoad: "+a+" not found";n.loads[a].hide()}),g=n.$on("apLoad:finish",function(e,t,a){n.message=a;var i=t||"default";if(!n.loads[i])throw"apLoad: "+i+" not found";n.loads[i].show()}),p=n.$on("$destroy",function(){t.off("mouseenter",i),u(),c(),d(),g(),p()});n.init&&n.init()}},templateUrl:"directives/box/box.template.html"}}]),angular.module("adminPanel").directive("apDateTimePicker",["$timeout",function(e){return{restrict:"AE",require:"ngModel",scope:{format:"@?"},link:function(n,t,a,i){function o(t,a,o){var r=angular.isUndefined(a)||null===a?null!==n.hours?n.hours:0:a,s=angular.isUndefined(o)||null===o?null!==n.minutes?n.minutes:0:o;t.setSeconds(0),t.setHours(r),t.setMinutes(s),e(function(){n.$apply(function(){i.$setViewValue(t)})})}t.addClass("row collapse date ap-datetimepicker"),n.hours=null,n.minutes=null,n.date=null;var r={format:"dd/mm/yyyy"};n.$watch(function(){return i.$modelValue},function(e){if(e){var a=new Date(e);n.date=a,$(t.find(".ap-date")).fdatepicker("update",a),n.hours=a.getHours(),n.minutes=a.getMinutes()}}),$(t.find(".ap-date")).fdatepicker(r).on("changeDate",function(e){n.date=e.date,n.date.setHours(n.date.getHours()+n.date.getTimezoneOffset()/60),o(n.date)}),n.changeHour=function(){n.hours<0&&(n.hours=0),n.hours>23&&(n.hours=23),o(n.date,n.hours,n.minutes)},n.changeMinute=function(){n.minutes<0&&(n.minutes=0),n.minutes>59&&(n.minutes=59),o(n.date,n.hours,n.minutes)}},templateUrl:"directives/dateTimePicker/dateTimePicker.template.html"}}]),angular.module("adminPanel").directive("apFilters",["$timeout",function(e){return{restrict:"E",transclude:!0,link:function(n,t,a){var i=null;e(function(){i=t.find(".accordion.filtros"),console.log("elem",i),i.foundation()}),n.$on("$destroy",function(){i.foundation("_destroy")})},templateUrl:"directives/filter/filter.template.html"}}]),angular.module("adminPanel").directive("fieldErrorMessages",[function(){return{restrict:"E",scope:{errors:"="},link:function(e,n){n.addClass("form-error"),console.log("fieldErrorMessages",e)},templateUrl:"directives/form/fieldErrorMessages.template.html"}}]),angular.module("adminPanel").directive("formValidation",["$parse","$compile",function(e,n){return{require:"form",restrict:"A",scope:!0,link:function(t,a,i,o){console.log("formCtrl",o);var r={required:function(e,n){return angular.isUndefined(n)&&(n=!0),function(t,a){return!n||!e.$isEmpty(a)}}},s=e(i.formValidation)(t);t.validations={};for(var l in s){var u=o[l],c=u.$$element;console.log(u);var d={};for(var g in s[l]){var p=s[l][g];u.$validators[g]=r[g](u,p.expression),d[g]=p.message}t.validations[l]={errors:u.$error,messages:d};var m=angular.element('<field-error-messages errors="validations.'+l+'.errors" messages="validations.'+l+'.messages">');n(m)(t),c.after(m)}console.log(t.validations)}}}]),angular.module("adminPanel").directive("formFieldError",["$animate","$compile","AdminPanelConfig",function(e,n,t){return{require:"^form",restrict:"A",scope:{messages:"=?",expr:"="},link:function(a,i,o,r){a.inputElem=i.find("input"),a.inputErrors=r[a.inputElem.attr("name")].$error,a.errors={};for(var s in a.messages)a.errors[s]={expresion:!1,message:a.messages[s]};a.fieldErrorMsgDirective=angular.element("<field-error-messages>"),a.fieldErrorMsgDirective.attr("errors","errors"),i.append(a.fieldErrorMsgDirective),n(a.fieldErrorMsgDirective)(a),a.$watch("inputErrors",function(e){console.log("inputErrors",e);for(var n in e)a.errors[n]||(a.errors[n]={expresion:!1,message:a.messages?a.messages[n]:t.defaultFormMessages[n]}),a.errors[n].expresion=e[n]}),a.$watch("expr",function(n){console.log("val",n),e[n?"addClass":"removeClass"](i,"is-invalid-label"),e[n?"addClass":"removeClass"](a.inputElem,"is-invalid-input"),e[n?"addClass":"removeClass"](a.fieldErrorMsgDirective,"is-visible")})}}}]),angular.module("adminPanel").directive("apImageLoader",[function(){return{require:"ngModel",restrict:"E",scope:!0,link:function(e,n,t,a){function i(n){var t=n.target.files[0];if(t&&o.test(t.type)){var i=new FileReader;i.onload=function(n){e.$apply(function(){var i=n.target.result;e.image.path=i,e.image.name=t.name,a.$setViewValue(t)})},i.readAsDataURL(t)}}n.addClass("ap-image-loader row columns"),e.image={path:null,name:null};var o=/^image\/[a-z]*/g;n.find('input[type="file"]').bind("change",i),e.loadImage=function(){};var r=e.$watch(function(){return a.$modelValue},function(e){console.log("modelValue",e)});e.$on("$destroy",function(){n.find('input[type="file"]').unbind("change",i),r()})},templateUrl:"directives/imageLoader/imageLoader.template.html"}}]),angular.module("adminPanel").directive("apLoad",["$animate","$compile",function(e,n){return{restrict:"A",priority:50,link:function(t,a,i){!function(){var o=i.apLoad;if(0===a.find("[ap-load='"+o+"']").length){t.name=o||"default",a.addClass("ap-load");var r=angular.element("<ap-loading-img>");a.append(r),n(r)(t),t.show=function(){e.removeClass(a,"loading")},t.hide=function(){e.addClass(a,"loading")}}}()},controller:["$scope",function(e){this.getName=function(){return e.name},this.show=function(){e.show()},this.hide=function(){e.hide()}}]}}]),angular.module("adminPanel").directive("apLoadingImg",["AdminPanelConfig",function(e){return{restrict:"AE",priority:60,link:function(n,t){t.addClass("ap-load-image"),n.path=e.imgLoadingRsc},templateUrl:"directives/load/loadingImg.template.html"}}]),angular.module("adminPanel").directive("msfCoordenadas",["$timeout",function(e){return{require:"ngModel",restrict:"E",link:function(n,t,a,i){n.coordenadas="",n.error=!1,e(function(){angular.isUndefined(i.$modelValue)&&(i.$modelValue={latitud:null,longitud:null},console.log("ngModel.$modelValue",i.$modelValue)),n.model={latitud:angular.copy(i.$modelValue.latitud),longitud:angular.copy(i.$modelValue.longitud)}}),n.$watch(function(){return i.$modelValue},function(e){e&&(n.model={latitud:angular.copy(i.$modelValue.latitud),longitud:angular.copy(i.$modelValue.longitud)})}),n.cambioCoordeandas=function(){var e=!1,t=!1;n.error=!1;for(var a=/^(([-])(\d)+((\.)(\d{2})(\d+)))$/,o=/^(([-])(\d)+((\.)(\d{2})(\d+)))$/,r=[",",":"," ","."],s=0;s<r.length;s++){var l=n.coordenadas.replace(/\s+/g,"").split(r[s]);2===l.length?(e=parseFloat(l[0].replace(",",".").match(a)),t=parseFloat(l[1].replace(",",".").match(o))):4===l.length&&(e=parseFloat((l[0]+"."+l[1]).match(a)),t=parseFloat((l[2]+"."+l[3]).match(o)))}if(!e||!t)return n.model.latitud="",n.model.longitud="",void(n.error=!0);n.model.latitud=e,n.model.longitud=t,i.$setViewValue({latitud:e,longitud:t}),n.$emit("msfCoordenadas:change",this)}},templateUrl:"directives/msfCoordenadas/msfCoordenadas.template.html"}}]),angular.module("adminPanel").directive("apPagination",["AdminPanelConfig",function(e){return{restrict:"AE",priority:50,link:function(n,t,a){n.paginationInit=!1,n.pagination=new function(e){this.currentPage=1,this.pageCount=10,this.pages=[],this.activeLastFirst=!1,this.enableNextPage=!1,this.enablePreviousPage=!1,this.enableFirstPage=!1,this.enableLastPage=!1,this.bottomPage=1,this.topPage=e;var t=function(e,n){for(var t=[],a=e;a<=n;a++)t.push(a);return t};this.rePaginate=function(){var n=Math.floor(e/2);!(1===this.bottomPage&&this.currentPage<=n||this.topPage===this.pageCount&&this.currentPage>=this.pageCount-n)&&(this.currentPage-n<1?(this.bottomPage=1,this.topPage=this.activeLastFirst?e:this.pageCount):this.currentPage+n>this.pageCount?(this.topPage=this.pageCount,this.bottomPage=this.activeLastFirst?this.pageCount-e+1:1):(this.topPage=this.currentPage+n,this.bottomPage=this.currentPage-n),this.pages=t(this.bottomPage,this.topPage))},this.changePage=function(e){this.currentPage!==e&&(n.$emit("pagination:changepage",e),this.currentPage=e,this.enableNextPage=this.currentPage<this.pageCount,this.enablePreviousPage=this.currentPage>1,this.activeLastFirst&&(this.enableFirstPage=this.currentPage>1,this.enableLastPage=this.currentPage<this.pageCount),this.rePaginate())},this.nextPage=function(){if(e!==this.pageCount){var e=this.currentPage+1;this.changePage(e)}},this.previousPage=function(){if(1!==e){var e=this.currentPage-1;this.changePage(e)}},this.init=function(n){this.pageCount=n.totalPageCount,this.currentPage=n.currentPageNumber,this.activeLastFirst=this.pageCount>e,this.enableNextPage=this.currentPage<this.pageCount,this.enableLastPage=this.activeLastFirst&&this.currentPage<this.pageCount,this.bottomPage=1,this.topPage=this.activeLastFirst?e:this.pageCount,this.pages=t(this.bottomPage,this.topPage)},this.reInit=function(e){this.pageCount=e.totalPageCount,this.currentPage=e.currentPageNumber,this.enableNextPage=this.currentPage<this.pageCount,this.enableLastPage=this.activeLastFirst&&this.currentPage<this.pageCount,this.rePaginate()}}(e.pagination),n.$on("pagination:paginate",function(e,t){n.paginationInit?n.pagination.reInit(t):(n.paginationInit=!0,n.pagination.init(t))})},templateUrl:"directives/pagination/pagination.template.html"}}]),angular.module("adminPanel").directive("apSelect",["$timeout","$rootScope",function(e,n){return{restrict:"AE",require:"ngModel",scope:{reosource:"=",search:"=?",names:"=",onChange:"&?"},link:function(t,a,i,o){t.enableNewButton=!(angular.isUndefined(i.new)||null===i.new),t.menuOpen=!1,t.loading=!0,t.dropdownContainer=a.find(".dropdown-ap"),t.inputElem=a.find("input"),a.addClass("select-ap"),t.newObject=function(){n.$broadcast("apBox:show",i.new)},t.request=null,t.input="",t.onInputChange=function(e){var n=t.search||{};if(!e)for(var a=0;a<t.names.length;a++)n[t.names[a]]=t.input;t.loading=!0,t.request&&t.request.$cancelRequest(),t.request=t.reosource.get(n,function(e){t.loading=!1;var n=e.data;t.options=[];for(var a=0;a<n.length;a++){for(var i="",o=0;o<t.names.length;o++)i+=n[a][t.names[o]]+", ";i=i.replace(/,\s*$/,"");var r=n[a];r.name=i,t.options.push(r)}})},t.optionSelected=function(n){var a=angular.copy(n);delete a.name,o.$setViewValue(a),e(function(){t.input=n.name},50)},t.buttonClick=function(){t.menuOpen=!t.menuOpen,t.menuOpen&&t.onInputChange(!0)},t.onFocus=function(){t.menuOpen=!0},t.onBlur=function(){e(function(){t.menuOpen=!1},100)},t.$watch(function(){return t.menuOpen},function(e){e?(t.inputElem.focus(),t.dropdownContainer.addClass("is-open")):t.dropdownContainer.removeClass("is-open")}),t.$watch(function(){return o.$modelValue},function(e){void 0!==t.onChange&&t.onChange({option:e});var n="";if(e){for(var a=0;a<t.names.length;a++)n+=e[t.names[a]]+", ";n=n.replace(/,\s*$/,"")}t.input=n})},templateUrl:"directives/select/select.template.html"}}]),angular.module("adminPanel").directive("apTimePicker",["$timeout",function(e){return{restrict:"AE",require:"ngModel",link:function(n,t,a,i){function o(t,a){var o=null===t?null!==n.hours?n.hours:0:t,r=null===a?null!==n.minutes?n.minutes:0:a,s=new Date;s.setSeconds(0),s.setHours(o),s.setMinutes(r),e(function(){n.$apply(function(){i.$setViewValue(s)})})}t.addClass("row collapse date ap-timepicker"),n.hours=null,n.minutes=null,n.$watch(function(){return i.$modelValue},function(e){if(e){var t=new Date(e);n.hours=t.getHours(),n.minutes=t.getMinutes()}}),n.changeHour=function(){n.hours<0&&(n.hours=0),n.hours>23&&(n.hours=23),o(n.hours,n.minutes)},n.changeMinute=function(){n.minutes<0&&(n.minutes=0),n.minutes>59&&(n.minutes=59),o(n.hours,n.minutes)}},templateUrl:"directives/timePicker/timePicker.template.html"}}]),angular.module("adminPanel").filter("highlight",["$sce",function(e){return function(n,t){return t&&(n=n.replace(new RegExp("("+t+")","gi"),'<span class="highlighted">$1</span>')),e.trustAsHtml(n)}}]),angular.module("adminPanel").provider("AdminPanelConfig",function(){var e="",n=11,t={email:"Este campo debe ser un email",max:"Se excedió el numero máximo",maxlength:"El campo tiene demasiados carácteres",min:"No se alcanza el numero minimo de carácteres",minlength:"El texto ingresado es muy corto",number:"Este campo debe ser numérico",pattern:"Este campo no cumple con el patrón especificado",required:"Este campo es requerido",url:"Este campo debe ser una url",date:"Este campo debe ser unna fecha",datetimelocal:"Este campo debe ser una fecha",time:"Ingresa una hora válida",week:"Ingresa una semana válida",month:"El mes no es válido"},a={};this.setImgLoadingIconPath=function(n){return e=n,this},this.setPagesPagination=function(e){return n=e,this},this.setDefaultFormMessenges=function(e){for(var n in e)t[n]=e[n];return this},this.setNavigationItems=function(e){a=angular.copy(e);for(var n in a){a[n].link=a[n].link?"#!"+a[n].link:"#";for(var t in a[n].items)a[n].items[t]="#!"+a[n].items[t]}return this},this.$get=[function(){return{imgLoadingRsc:e,pagination:n,defaultFormMessages:t,navigationItems:a}}]}),angular.module("adminPanel").run(["$templateCache",function(e){e.put("admin-panel.template.html","<div ap-user><div class=wrapper-header><top-bar></top-bar></div><div id=parent><navigation></navigation><div id=content><div class=transition ng-view></div></div></div></div>"),e.put("components/navigation/navigation.template.html",'<ul class="vertical menu"><li ng-repeat="(name, item) in items"><a href={{item.link}} ng-bind=name></a><ul ng-if=item.items class="vertical menu nested"><li ng-repeat="(nestedItemName, nestedItemLink) in item.items"><a href={{nestedItemLink}} ng-bind=nestedItemName></a></li></ul></li></ul>'),e.put("components/top-bar/top-bar.template.html","<div class=top-bar><div class=top-bar-right><ul class=menu><li><button type=button class=button ng-click=clickBtn()>Cerrar Sesión</button></li></ul></div></div>"),e.put("directives/accordion/accordion.template.html",'<div ng-if=addButtonText class="row column"><button type=button class="button secondary" ng-click=addElement() ng-bind=addButtonText></button></div><div class=accordion ng-transclude></div>'),e.put("directives/accordion/accordionItem.template.html",'<div class=accordion-top><button type=button class=accordion-title ng-click=toggleTab() ng-bind=title></button><div class=accordion-button><button type=button ng-if=deleteButton class="button alert" ng-click=deleteElement()><i class="fa fa-remove"></i></button></div></div><div class=accordion-content data-tab-content ng-transclude></div>'),e.put("directives/box/box.template.html","<div class=card><button ng-if=closeButton class=close-button type=button ng-click=close()><span>&times;</span></button><div class=card-divider><h5 ng-bind=title></h5></div><div class=card-section><div ng-if=message class=callout ng-class=\"{'success':message.type === 'success','warning':message.type === 'warning','alert':message.type === 'error'}\" ng-bind=message.message></div><div ng-transclude ap-load></div><div class=pager></div></div></div>"),e.put("directives/dateTimePicker/dateTimePicker.template.html",'<div class=input-group><span class="input-group-label prefix"><i class="fa fa-calendar"></i></span><input class="input-group-field ap-date" type=text readonly><span class=input-group-label>Hs</span><input class=input-group-field type=number style=width:60px ng-model=hours ng-change=changeHour()><span class=input-group-label>Min</span><input class=input-group-field type=number style=width:60px ng-model=minutes ng-change=changeMinute()></div>'),e.put("directives/filter/filter.template.html",'<ul class="accordion filtros" data-accordion data-allow-all-closed=true><li class=accordion-item data-accordion-item><a href=# class=accordion-title>Filtros</a><div class=accordion-content data-tab-content ng-transclude></div></li></ul>'),e.put("directives/form/fieldErrorMessages.template.html",'<div ng-repeat="error in errors" ng-show=error.expresion ng-bind=error.message></div>'),e.put("directives/imageLoader/imageLoader.template.html",'<div class=image-view><img ng-src={{image.path}} ng-click=loadImage()></div><div class=input-group><div class=input-group-button><label for=exampleFileUpload class="button file"><i class="fa fa-file-image-o"></i></label><input type=file id=exampleFileUpload class=show-for-sr accept=image/*></div><input class=input-group-field type=text readonly ng-value=image.name></div>'),e.put("directives/load/load.template.html","<div ng-show=loading class=ap-load-image><img ng-src={{path}}></div><div ng-hide=loading class=ap-load-content><div ng-if=message class=callout ng-class=\"{'success':message.type === 'success','warning':message.type === 'warning','alert':message.type === 'error'}\" ng-bind=message.message></div><div></div></div>"),e.put("directives/load/loadingImg.template.html","<img ng-src={{path}}>"),e.put("directives/msfCoordenadas/msfCoordenadas.template.html",'<div class="row column"><div class="callout secondary text-center">Podés obtener los datos de<u><a href=https://www.santafe.gov.ar/idesf/servicios/generador-de-coordenadas/tramite.php target=_blank>acá</a></u></div></div><div class="row column"><label ng-class="{\'is-invalid-label\':error}"><input style=margin-bottom:3px type=text ng-class="{\'is-invalid-input\':error}" ng-model=coordenadas ng-change=cambioCoordeandas()><span ng-class="{\'is-visible\':error}" style=margin-top:7px class=form-error>El campo ingresado contiene errores.</span></label></div><div class=row><div class="columns small-12 large-6"><label>Latitud <input type=text ng-value=model.latitud readonly></label></div><div class="columns small-12 large-6"><label>Longitud <input type=text ng-value=model.longitud readonly></label></div></div>'),e.put("directives/pagination/pagination.template.html",'<ul class="pagination text-center" role=navigation><li ng-if=pagination.activeLastFirst class=pagination-previous ng-class="{\'disabled\': !pagination.enablePreviousPage}"><a ng-if=pagination.enablePreviousPage ng-click=pagination.changePage(1)></a></li><li ng-class="{\'disabled\': !pagination.enablePreviousPage}"><a ng-if=pagination.enablePreviousPage ng-click=pagination.previousPage()>&lsaquo;</a><span ng-if=!pagination.enablePreviousPage>&lsaquo;</span></li><li ng-repeat="page in pagination.pages track by $index" ng-class="{\'current\':page === pagination.currentPage}"><a ng-if="page !== pagination.currentPage" ng-bind=page ng-click=pagination.changePage(page)></a><span ng-if="page === pagination.currentPage" ng-bind=page></span></li><li ng-class="{\'disabled\': !pagination.enableNextPage}"><a ng-if=pagination.enableNextPage ng-click=pagination.nextPage()>&rsaquo;</a><span ng-if=!pagination.enableNextPage>&rsaquo;</span></li><li ng-if=pagination.activeLastFirst class=pagination-next ng-class="{\'disabled\': !pagination.enableNextPage}"><a ng-if=pagination.enableNextPage ng-click=pagination.changePage(pagination.pageCount)></a></li></ul>'),e.put("directives/select/select.template.html",'<div class=input-group><input class=input-group-field type=text ng-model=input ng-change=onInputChange() ng-focus=onFocus() ng-blur=onBlur()><div class=input-group-button><button type=button class="button secondary" ng-click=buttonClick()><span class=caret></span></button></div></div><div class=dropdown-ap><ul ng-if=loading class=list-group><li style=font-weight:700>Cargando...</li></ul><ul ng-if="!loading && options.length > 0" class=list-group><li ng-repeat="option in options" ng-bind-html="option.name | highlight:input" ng-click=optionSelected(option)></li></ul><ul ng-if="!loading && options.length === 0" class=list-group><li style=font-weight:700>No hay resultados</li></ul><ul ng-if=enableNewButton class="list-group new"><li ng-click=newObject()><span class="fa fa-plus"></span><span>Nuevo</span></li></ul></div>'),e.put("directives/timePicker/timePicker.template.html","<div class=input-group><span class=input-group-label>Hs</span><input class=input-group-field type=number ng-model=hours ng-change=changeHour()><span class=input-group-label>Min</span><input class=input-group-field type=number ng-model=minutes ng-change=changeMinute()></div>")}]);